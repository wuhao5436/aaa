<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>二叉树算法研究</title>
</head>
<body>
    <script>
     // 生成二叉树对象
    var arr = [10,5,11,9,6,12,13,87,8,4,3];

    // 二叉树构造函数
    var  BinaryTreeGenerator = function () {
        var  NodeGenerator = function (value) {
            this.value  =  value;
            this.left  =  null;
            this.right = null;
        }
        this.root = null;
        var insertNode = function ( oldNode, newNode ) {
            if ( newNode.value < oldNode.value ) {
                if (oldNode.left === null) {
                    oldNode.left = newNode;
                } else {
                    insertNode(oldNode.left, newNode );
                }
            } else if (newNode.value > oldNode.value) {
                if (oldNode.right === null) {
                    oldNode.right = newNode
                } else {
                    insertNode(oldNode.right, newNode)
                }
            }
        }
        this.insert = function (value) {
            var newNode = new NodeGenerator(value)
            if (this.root === null) {
                this.root = newNode;
            } else {
                insertNode(this.root, newNode);
            }
        }

        // 向左遍历
        function findLeft (node, callback) {
            if (node.left) {
                console.log('node.left', node.left)
                findLeft(node.left, callback)
            } 
             callback&&callback(node.value);
             if (node.right) {  
                findLeft(node.right, callback);
             }
        }

        // 二叉树中序遍历
        this.middleSort =function(callback) {
            if (this.root.left) {
                findLeft(this.root.left, callback)
            }
            callback && callback(this.root.value)
            if (this.root.right) {
                findLeft(this.root.right, callback)
            }
        }
    }

    var tree =  new BinaryTreeGenerator ();
    arr.forEach(function(item) {
        tree.insert(item);
    });

    console.log('tree', tree)


    //  二叉树遍历

   tree.middleSort(function(i) {
    console.log(i);
   })

    </script>
</body>
</html>